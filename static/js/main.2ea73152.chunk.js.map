{"version":3,"sources":["components/AddBook/AddBook.module.css","components/BookList/BookList.module.css","components/AddBook/AddBook.jsx","components/BookList/BookList.jsx","App.js","index.js"],"names":["module","exports","AddBook","props","useState","name","setName","title","setTitle","send","setSend","warning","setWarning","useEffect","object","Object","keys","localStorage","map","key","JSON","parse","getItem","setBook","addBookToStorage","e","preventDefault","index","Math","floor","random","console","log","bookItem","setItem","stringify","errorMessage","button","className","classes","form__button","onClick","type","value","onChange","target","BookList","change","setChange","setKey","itemList","id","removeItem","deleteBook","openFormHandler","length","no_books","changeForm","changeBook","App","book","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ea73152.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddBook\":\"AddBook_AddBook__3YRJo\",\"form__button\":\"AddBook_form__button__3EZ5g\",\"alone__button\":\"AddBook_alone__button__2OQe7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BookList\":\"BookList_BookList__3nHmY\",\"no_books\":\"BookList_no_books__3GMmm\",\"alone__button\":\"BookList_alone__button__msbQA\"};","import React, { useEffect, useState } from \"react\";\r\nimport classes from \"./AddBook.module.css\";\r\n\r\nconst AddBook = (props) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [send, setSend] = useState(false);\r\n  const [warning, setWarning] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let object = Object.keys(localStorage).map((key) =>\r\n      JSON.parse(localStorage.getItem(key))\r\n    );\r\n    props.setBook(object);\r\n  }, []);\r\n\r\n  // добавляем книгу\r\n  const addBookToStorage = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === \"\" && name === \"\") {\r\n      setWarning(true);\r\n    } else {\r\n      const index = Math.floor(Math.random() * 100000);\r\n      let object = Object.keys(localStorage).map((key) =>\r\n        JSON.parse(localStorage.getItem(key))\r\n      );\r\n      console.log(object);\r\n      props.setBook(object);\r\n      const bookItem = { name, title };\r\n      localStorage.setItem(index, JSON.stringify(bookItem));\r\n      setName(\"\");\r\n      setTitle(\"\");\r\n      setSend(true);\r\n      setWarning(false);\r\n    }\r\n  };\r\n  //обновляем форму\r\n\r\n  const errorMessage = warning ? <p>Заполните оба поля</p> : null;\r\n  const button = send ? (\r\n    <button\r\n      className={classes.form__button}\r\n      onClick={(e) => addBookToStorage(e)}\r\n    >\r\n      Добавить еще одну\r\n    </button>\r\n  ) : (\r\n    <button\r\n      className={classes.form__button}\r\n      onClick={(e) => addBookToStorage(e)}\r\n    >\r\n      Добавить\r\n    </button>\r\n  );\r\n  return (\r\n    <div className={classes.AddBook}>\r\n      <h1>Добавить книгу</h1>\r\n\r\n      <form>\r\n        <label>Имя:</label>\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n\r\n        <label>Название книги:</label>\r\n\r\n        <input\r\n          name=\"title\"\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        {button}\r\n        {errorMessage}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddBook;\r\n","import React, { useState } from \"react\";\r\nimport classes from \"./BookList.module.css\";\r\n\r\nconst BookList = (props) => {\r\n  const [change, setChange] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [key, setKey] = useState(\"\");\r\n  const [warning, setWarning] = useState(false);\r\n\r\n  //удаляем книгу\r\n  const deleteBook = (id, object) => {\r\n    localStorage.removeItem(id);\r\n    props.setBook(object);\r\n  };\r\n\r\n  //изменяем книгу\r\n  const changeBook = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === \"\" && name === \"\") {\r\n      setWarning(true);\r\n    } else {\r\n      const bookItem = { name, title };\r\n      localStorage.setItem(key, JSON.stringify(bookItem));\r\n      setName(\"\");\r\n      setTitle(\"\");\r\n      setWarning(false);\r\n      setChange(false);\r\n    }\r\n  };\r\n\r\n  const openFormHandler = (id, object) => {\r\n    setChange(true);\r\n    setName(object.name);\r\n    setTitle(object.title);\r\n    setKey(id);\r\n  };\r\n\r\n  let itemList = Object.keys(localStorage).map((key) => {\r\n    let object = JSON.parse(localStorage.getItem(key));\r\n\r\n    return (\r\n      <li key={key}>\r\n        <p>\r\n          <strong>Имя автора: </strong> {object.name}\r\n        </p>\r\n        <p>\r\n          {\" \"}\r\n          <strong>Название книги: </strong> {object.title}\r\n        </p>\r\n        <button onClick={() => deleteBook(key, object)}>Удалить</button>\r\n        <button onClick={(e) => openFormHandler(key, object)}>Изменить</button>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  if (itemList.length === 0) {\r\n    return (\r\n      <div className={classes.no_books}>\r\n        <h1>Похоже у вас еще нет книг...</h1>\r\n        <p>Добавьте парочку</p>\r\n      </div>\r\n    );\r\n  }\r\n  console.log(itemList);\r\n\r\n  const errorMessage = warning ? <p>Заполните оба поля</p> : null;\r\n\r\n  const changeForm = (\r\n    <form>\r\n      <label>Имя:</label>\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n\r\n      <label>Название книги:</label>\r\n\r\n      <input\r\n        name=\"title\"\r\n        type=\"text\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n      <button className={classes.form__button} onClick={(e) => changeBook(e)}>\r\n        Изменить\r\n      </button>\r\n      {errorMessage}\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <ul className={classes.BookList}>\r\n      <h1>Список книг</h1>\r\n      {change ? changeForm : itemList}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default BookList;\r\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport AddBook from \"./components/AddBook/AddBook\";\nimport BookList from \"./components/BookList/BookList\";\n\nfunction App() {\n  const [book, setBook] = useState(null);\n\n  return (\n    <div className=\"App\">\n      {book && <BookList book={book} setBook={setBook} />}\n\n      < AddBook setBook={setBook}/>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}